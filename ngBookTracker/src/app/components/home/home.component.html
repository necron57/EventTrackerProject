<h1>What a Book worm!</h1>

<div *ngIf="!selected">
  <table class="table table-striped table-hover">
    <thead>
      <th>Title</th>
      <th>Mark</th>
      <th>Have Read</th>
      <th>Delete</th>
    </thead>
    <tbody>
      <tr *ngFor="let book of bookList">
        <td (click)="displayBook(book)"> <img [src]="book.pictureURL" width="200px" height="300px"/></td>
        <td (click)="displayBook(book)">{{ book.title }}</td>
        <td>
          <input

            type="checkbox"
            name="completed"
            [(ngModel)]="book.hasRead"
          />
        </td>
        <td (click)="displayBook(book)">{{ book.hasRead }}</td>
        <td>
          <button class="btn btn-danger" >
            X
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <form>
    <form>
      <h2>Add new Book</h2>
      <label for="newBookTitle">Title:</label>
      <input name= "newBookTitle"type ="text" [(ngModel)]="newBook.title"><br>
      <label for="newBookdesc">Description:</label>
      <input name= "newBookdesc"type ="text" [(ngModel)]="newBook.description"><br>
      <label for="pageCount">pageCount:</label>
      <input name= "pageCount"type ="text" [(ngModel)]="newBook.pageCount"><br>
      <label for="price">price:</label>
      <input name= "price"type ="number" [(ngModel)]="newBook.price"><br>
      <label for="imgURL">img:</label>
      <input name= "imgURL"type ="text" [(ngModel)]="newBook.pictureURL"><br>
      <label for="hasRead">Has Read:</label>
      <input name= "hasRead"type ="checkbox" [(ngModel)]="newBook.hasRead"><br>
      <label for="author">Author:</label>
      <input name= "author"type ="text" [(ngModel)]="newBook.author"><br>
      <label for="genre">Genre:</label>
      <input name= "genre"type ="text" [(ngModel)]="newBook.genre"><br>
      <button (click)="addBook(newBook);">Add Book</button>
    </form>

  </form>
</div>
<div id="singleTodo" *ngIf="selected && !editBook">
  <h3>{{ selected.id }}</h3>
  <p>
    <img [src]="selected.pictureURL" width="200px" height="300px"/>
  </p>
  <h3>{{ selected.title }}</h3>
  <p>{{ selected.description }}</p>
  <p>{{ selected.hasRead }}</p>
  <p>{{ selected.genre }}</p>
  <p>{{ selected.author }}</p>
  <button class="btn btn-danger" (click)="displayTable()">Back</button>
  <button class="btn btn-primary" (click)="setEditBook()">Edit</button>
</div>

<div *ngIf="editBook">
<form>
  <h4>Edit Book #{{editBook.id}}</h4>
  <label for="newBookTitle">Title:</label>
  <input name= "newBookTitle"type ="text" [(ngModel)]="editBook.title"><br>
  <label for="newBookdesc">Description:</label><br>
  <textarea
  name="newBookdesc"
  [(ngModel)]="editBook.description"
></textarea
><br />
  <label for="pageCount">pageCount:</label>
  <input name= "pageCount"type ="text" [(ngModel)]="editBook.pageCount"><br>
  <label for="price">price:</label>
  <input name= "price"type ="number" [(ngModel)]="editBook.price"><br>
  <label for="imgURL">img:</label>
  <input name= "imgURL"type ="text" [(ngModel)]="editBook.pictureURL"><br>
  <label for="hasRead">Has Read:</label>
  <input name= "hasRead"type ="checkbox" [(ngModel)]="editBook.hasRead"><br>
  <label for="author">Author:</label>
  <input name= "author"type ="text" [(ngModel)]="editBook.author"><br>
  <label for="genre">Genre:</label>
  <input name= "genre"type ="text" [(ngModel)]="editBook.genre"><br>
  <button class="btn btn-danger" (click)="editBook = null">Cancel</button>
  <button class="btn btn-success" (click)="updateBook(editBook)">Save</button>
</form>
</div>
